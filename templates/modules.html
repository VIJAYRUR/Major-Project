b{% from "macros_navbar.html" import navbar %} {% from "macros_footer.html"
import footer %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Front Page</title>
    <!-- Add your stylesheets and scripts here -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js"
      integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/js/bootstrap.min.js"
      integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/css/bootstrap.min.css"
      integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
      crossorigin="anonymous"
    />
    <style>
  
  .carousel-item {
    height: 800px; /* Adjust the height as needed */
    overflow: hidden; /* Ensure images don't overflow */
  }

  .carousel-item img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* Make sure images fill the container */
  }

        .module-tile {
          border-radius: 10px;
          box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
          transition: box-shadow 0.3s ease;
          margin-bottom: 20px;
          width: 100%;
          height: 200px; /* Adjust height as needed */
          overflow: hidden; /* Prevent images from overflowing */
        }
  
        .module-tile:hover {
          box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.4);
        }
  
        .module-image {
          width: 100%;
          height: 100%;
          object-fit: cover; /* Maintain aspect ratio and cover container */
        }
  
        .modal-dialog {
          max-width: 800px; /* Adjust modal maximum width as needed */
        }
      </style>
  </head>

  <body>
    {{ navbar() }}
    <br>
    <div class="container mt-5 pt-5">
        <div class="row">
          <div class="col-md-4">
            <div
              class="module-tile mb-4"
              data-toggle="modal"
              data-target="#moduleModal1"
            >
              <div class="module-container p-4">
                <h3>#1 Surya Namaskar</h3>
                <p>This module has 12 poses</p>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div
              class="module-tile mb-4"
              data-toggle="modal"
              data-target="#moduleModal2"
            >
              <div class="module-container p-4">
                <h3>Module 2</h3>
                <p>This module has 2 poses</p>
              </div>
            </div>
          </div>
        
      <!-- Add a new module tile -->
<div class="col-md-4">
  <div
    class="module-tile mb-4"
    data-toggle="modal"
    data-target="#moduleModal3" 
  >
    <div class="module-container p-4">
      <h3>CUSTOMIZE</h3>
      <p>This module has 5 poses</p>
    </div>
  </div>
</div>
</div>
</div>

<!-- Modal for Module 3 -->
<div
  class="modal fade"
  id="moduleModal3"
  tabindex="-1"
  role="dialog"
  aria-labelledby="moduleModalLabel3"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="moduleModalLabel3">Module 3</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- Dropdown list for exercises -->
        <select id="exerciseDropdown" class="form-control mb-3">
          <option value="classifySitPose">Sit/Staff Pose</option>
          <option value="classifyTPose">T Pose</option>
          <option value="classifyTreePose">Tree Pose</option>
          <option value="classifyChildPose">Child Pose</option>
          <option value="classifyPlankPose">Plank Pose</option>
          <!-- Add more exercise options here -->
        </select>
        
        <!-- Button for adding selected exercises -->
        <button class="btn btn-primary mb-2" onclick="addExercise()">Add Exercise</button>
        
        <!-- List of selected exercises -->
        <ul id="selectedExercises" class="list-group"></ul>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-primary"
          onclick="postSelectedExercises()"
        >
          Post
        </button>
      </div>
    </div>
  </div>
</div>

      <!-- Modal for Module 1 -->
      <div
        class="modal fade"
        id="moduleModal1"
        tabindex="-1"
        role="dialog"
        aria-labelledby="moduleModalLabel1"
        aria-hidden="true"
      >
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="moduleModalLabel1">
                Surya Namaskar include following poses
              </h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="modal-body">
                <div class="container">
                  <div class="row">
                    <div class="col">
                      <a href='/working' class="btn btn-primary btn-block">Practice</a>
                    </div>
                    <div class="col">
                      <div class="col">
                        <a href='https://en.wikipedia.org/wiki/Sun_Salutation' class="btn btn-secondary btn-block">Learn more</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Carousel for Module 1 images -->
              <div id="carouselModule1" class="carousel slide">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img
                      src="/static/images/Classify_Surya_One.png"
                      class="d-block w-100"
                      alt="Image 1"
                    />
                  </div>
                  <div class="carousel-item ">
                    <img
                      src="/static/images/Classify_Surya_Two.png"
                      class="d-block w-100"
                      alt="Image 1"
                    />
                  </div>
                  <div class="carousel-item ">
                    <img
                      src="/static/images/Classify_Surya_Three.png"
                      class="d-block w-100"
                      alt="Image 1"
                    />
                  </div>
                  <div class="carousel-item ">
                    <img
                      src="/static/images/Classify_Surya_Four.png"
                      class="d-block w-100"
                      alt="Image 1"
                    />
                  </div>
                  <div class="carousel-item ">
                    <img
                      src="/static/images/Classify_Surya_Five.png"
                      class="d-block w-100"
                      alt="Image 1"
                    />
                  </div>
                  <div class="carousel-item ">
                    <img
                      src="/static/images/Classify_Surya_Six.png"
                      class="d-block w-100"
                      alt="Image 1"
                    />
                  </div>
                  <div class="carousel-item ">
                    <img
                      src="/static/images/Classify_Surya_Seven.png"
                      class="d-block w-100"
                      alt="Image 1"
                    />
                  </div>
                  
                  <!-- Add additional carousel items here if needed -->
                </div>
                <a
                  class="carousel-control-prev"
                  href="#carouselModule1"
                  role="button"
                  data-slide="prev"
                >
                  <span
                    class="carousel-control-prev-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a
                  class="carousel-control-next"
                  href="#carouselModule1"
                  role="button"
                  data-slide="next"
                >
                  <span
                    class="carousel-control-next-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
              
            </div>
          </div>
        </div>
      </div>
  
      <!-- Modal for Module 2 -->
      <div
        class="modal fade"
        id="moduleModal2"
        tabindex="-1"
        role="dialog"
        aria-labelledby="moduleModalLabel2"
        aria-hidden="true"
      >
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="moduleModalLabel2">Sample Demo</h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <div class="container">
                <div class="row">
                  <div class="col">
                    <a href='/working_second' class="btn btn-primary btn-block">Practice</a>
                  </div>
                  <div class="col">
                    <div class="col">
                      <a href='https://en.wikipedia.org/wiki/Yoga' class="btn btn-secondary btn-block">Practice</a>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Carousel for Module 2 images -->
              <div id="carouselModule2" class="carousel slide">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img
                      src="/static/images/Carousel1.png"
                      class="d-block w-100"
                      alt="Image 1"
                    />
                  </div>
                  <div class="carousel-item">
                    <img
                      src="/static/images/Carousel2.png"
                      class="d-block w-100"
                      alt="Image 1"
                    />
                  </div>
                  <!-- Add additional carousel items here if needed -->
                </div>
  
                <a
                  class="carousel-control-prev"
                  href="#carouselModule2"
                  role="button"
                  data-slide="prev"
                >
                  <span
                    class="carousel-control-prev-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="sr-only">Previous</span>
                </a>
                <a
                  class="carousel-control-next"
                  href="#carouselModule2"
                  role="button"
                  data-slide="next"
                >
                  <span
                    class="carousel-control-next-icon"
                    aria-hidden="true"
                  ></span>
                  <span class="sr-only">Next</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
<!-- Add your scripts here -->
<script>
  // Function to add selected exercise to the list
  function addExercise() {
    const exercise = document.getElementById("exerciseDropdown").value;
    const list = document.getElementById("selectedExercises");
    const listItem = document.createElement("li");
    listItem.className = "list-group-item";
    listItem.textContent = exercise;
    
    // Button for deleting selected exercise
    const deleteButton = document.createElement("button");
    deleteButton.className = "btn btn-danger btn-sm float-right";
    deleteButton.textContent = "Delete";
    deleteButton.onclick = function() {
      list.removeChild(listItem);
    };
    
    // Button for moving selected exercise up
    const upButton = document.createElement("button");
    upButton.className = "btn btn-secondary btn-sm float-right mr-1";
    upButton.textContent = "Up";
    upButton.onclick = function() {
      if (listItem.previousElementSibling) {
        list.insertBefore(listItem, listItem.previousElementSibling);
      }
    };
    
    // Button for moving selected exercise down
    const downButton = document.createElement("button");
    downButton.className = "btn btn-secondary btn-sm float-right mr-1";
    downButton.textContent = "Down";
    downButton.onclick = function() {
      if (listItem.nextElementSibling) {
        list.insertBefore(listItem.nextElementSibling, listItem);
      }
    };
    
    // Append buttons to the list item
    listItem.appendChild(deleteButton);
    listItem.appendChild(upButton);
    listItem.appendChild(downButton);
    
    list.appendChild(listItem);
  }

  // Function to post selected exercises to Flask
  function postSelectedExercises() {
    const list = document.getElementById("selectedExercises");
    const exercises = Array.from(list.children).map((item) => item.textContent.trim());

    // Make an AJAX request to Flask to post the selected exercises
     fetch('/post-exercises', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(exercises)
    })
    .then(response => response.json())
    .then(data => {
      console.log(data.message);  // Log the response message from the server
      // You can perform any additional actions here, such as displaying a success message
    })
    .catch(error => {
      console.error('Error:', error);
      // You can handle errors here, such as displaying an error message to the user
    });
    window.location.href = '/custom'; 
    console.log(exercises); // For testing
  }
</script>
  
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
    </body>
    {{footer()}}
  </body>
</html>
